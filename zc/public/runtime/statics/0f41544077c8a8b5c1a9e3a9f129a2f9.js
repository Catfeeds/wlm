eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('a u(0,b){$("h[g=\'"+b+"\']").w("k",a(){m($("#q").2(".n").t>=4){$.f("图片不能超过四张");D i}$(0).9();$(0).5().2(".3").8("9");$(0).5().2(".3").8("6");$(0).5().2(".3").c("6");$.C({j:A+\'/E.z\',B:i,y:b,x:\'s\',r:a(7,d){$(0).6();$(0).5().2(".3").8("9");$(0).5().2(".3").8("6");$(0).5().2(".3").c("9");m(7.d==1){$("#v").6();$("#q").N(\'<p Q="n">\'+\'<o></o>\'+\'<P S="\'+7.U+\'" V=l T=l />\'+\'<h F="R" g="O[]" I="\'+7.j+\'"  />\'+\'</p>\');H()}G{$.f(7.J)}},K:a(7,d,e){$.f(7.M);$(0).6();$(0).5().2(".3").8("9");$(0).5().2(".3").8("6");$(0).5().2(".3").c("9")}});$("h[g=\'"+b+"\']").L("k")})}',58,58,'obj||find|fileuploading||parent|show|data|removeClass|hide|function|file_id|addClass|status||showErr|name|input|false|url|change|50|if|image_item|span|div|image_box|success|json|length|upd_file|image_box_outer|bind|dataType|fileElementId|php|APP_ROOT|secureuri|ajaxFileUpload|return|upload_item|type|else|bind_del_image|value|msg|error|unbind|responseText|append|image|img|class|hidden|src|height|thumb_url|width'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('$(1b).1i(4(){F();J();I();P();W()});4 F(){$("#9").7("e[a=\'1r\']").f("r n",4(){5($.y($(2).3())==\'\'||t($(2).3())||w($(2).3())<=0){$(2).3("")}c 5($(2).3().m>8){$(2).3($(2).3().g(0,8));$("#K").d($(2).3().g(0,8));$("#Y").d($(2).3().g(0,8))}c $("#K").d($(2).3());$("#Y").d($(2).3().g(0,8))});$("#9").7("14[a=\'16\']").f("r n",4(){$("#17").d($(2).3())});$("#9").7("x[a=\'N\']").f("O",4(){5($(2).3()==0){$("#9").7("e[a=\'p\']").i().h();$("#u").h()}c{$("#9").7("e[a=\'p\']").i().j();$("#u").j()}});5($("#9").7("x[a=\'N\']").3()==0){$("#9").7("e[a=\'p\']").i().h();$("#u").h()}c{$("#9").7("e[a=\'p\']").i().j();$("#u").j()}$("#9").7("e[a=\'p\']").f("r n",4(){5($.y($(2).3())==\'\'||t($(2).3())||w($(2).3())<=0){$(2).3("")}c 5($(2).3().m>8){$(2).3($(2).3().g(0,8));$("#G").d($(2).3().g(0,8))}c $("#G").d($(2).3())});$("#9").7("x[a=\'M\']").f("O",4(){5($(2).3()==0){$("#9").7("e[a=\'l\']").i().h();$("#A").h()}c{$("#9").7("e[a=\'l\']").i().j();$("#A").j()}});5($("#9").7("x[a=\'M\']").3()==0){$("#9").7("e[a=\'l\']").i().h();$("#A").h()}c{$("#9").7("e[a=\'l\']").i().j();$("#A").j()}$("#9").7("e[a=\'l\']").f("r n",4(){5($.y($(2).3())==\'\'||t($(2).3())||w($(2).3())<=0){$(2).3("")}c 5($(2).3().m>6){$(2).3($(2).3().g(0,6));$("#l").d($(2).3().g(0,6));$("#L").d($(2).3().g(0,6))}c{$("#l").d($(2).3());$("#L").d($(2).3())}});$("#9").7("e[a=\'D\']").f("r n",4(){5($.y($(2).3())==\'\'||t($(2).3())||w($(2).3())<=0){$(2).3("")}c 5($(2).3().m>6){$(2).3($(2).3().g(0,6));$("#D").d($(2).3().g(0,6))}c{$("#D").d($(2).3())}})}4 J(){$(".H").7("1m").f("v",4(){E($(2))})}4 E(o){$(o).i().1f();5($(".H").m==0){$("#1j").h()}}4 I(){$("#B").f("v",4(){5($(".1k").m>=10){$.Q("回报项目不能超过10个");X}$("#R").1l(4(){$("#B").h()})})}4 P(){$("#1g").f("v",4(){$("#R").1h(4(){$("#B").j()})})}4 W(){$(".1n").f("v",4(){S U=$(2).1s("q");S C=1t 1q();C.T=1;$.1o("确定删除该项吗？",4(){1e();$.T({1u:U,18:"13",12:C,Z:"11",15:4(b){5(b.1d==1){5(b.z!=""){$.1a(b.z,4(){5(b.k!=""){s.q=b.k}})}c{5(b.k!=""){s.q=b.k}}}c{5(b.z!=""){$.Q(b.z,4(){5(b.k!=""){s.q=b.k}})}c{5(b.k!=""){s.q=b.k}}}},19:4(b){5(b.V!=\'\')1c(b.V)}})});X 1p})}',62,93,'||this|val|function|if||find||item_form|name|ajaxobj|else|html|input|bind|substr|hide|parent|show|jump|limit_user|length|blur||delivery_fee|href|keyup|location|isNaN|delivery_box|click|parseFloat|select|trim|info|limit_user_box|add_item_btn|query|repaid_day|del_image|bind_item_form|delivery_fee_box|image_item|bind_add_item|bind_del_image|support_price|remain_user|is_limit_user|is_delivery|change|bind_cancel_item|showErr|add_item_form|var|ajax|ajaxurl|responseText|bind_del_item|return|support_price_btn|type||POST|data|json|textarea|success|description|repaid_content|dataType|error|showSuccess|document|alert|status|close_pop|remove|cancel_add|slideUp|ready|image_box_outer|item_row|slideDown|span|del_item|showConfirm|false|Object|price|attr|new|url'.split('|'),0,{}))
// JavaScript Document
jQuery.extend({

    createUploadIframe: function(id, uri)
 {
   //create frame
            var frameId = 'jUploadFrame' + id;
            
            if(window.ActiveXObject) {
                var io = document.createElement('<iframe id="' + frameId + '" name="' + frameId + '" />');
                if(typeof uri== 'boolean'){
                    io.src = 'javascript:false';
                }
                else if(typeof uri== 'string'){
                    io.src = uri;
                }
            }
            else {
                var io = document.createElement('iframe');
                io.id = frameId;
                io.name = frameId;
            }
            io.style.position = 'absolute';
            io.style.top = '-1000px';
            io.style.left = '-1000px';

            document.body.appendChild(io);

            return io;   
    },
    createUploadForm: function(id, fileElementId)
 {
  //create form 
  var formId = 'jUploadForm' + id;
  var fileId = 'jUploadFile' + id;
  var form = jQuery('<form  action="" method="POST" name="' + formId + '" id="' + formId + '" enctype="multipart/form-data"></form>'); 
  var oldElement = jQuery('#' + fileElementId);
  var newElement = jQuery(oldElement).clone();
  jQuery(oldElement).attr('id', fileId);
  jQuery(oldElement).before(newElement);
  jQuery(oldElement).appendTo(form);
  //set attributes
  jQuery(form).css('position', 'absolute');
  jQuery(form).css('top', '-1200px');
  jQuery(form).css('left', '-1200px');
  jQuery(form).appendTo('body');  
  return form;
    },

    ajaxFileUpload: function(s) {
        // TODO introduce global settings, allowing the client to modify them for all requests, not only timeout  
        s = jQuery.extend({}, jQuery.ajaxSettings, s);
        var id = s.fileElementId;        
  var form = jQuery.createUploadForm(id, s.fileElementId);
  var io = jQuery.createUploadIframe(id, s.secureuri);
  var frameId = 'jUploadFrame' + id;
  var formId = 'jUploadForm' + id;  
        
        if( s.global && ! jQuery.active++ )
  {
   // Watch for a new set of requests
   jQuery.event.trigger( "ajaxStart" );
  }            
        var requestDone = false;
        // Create the request object
        var xml = {};   
        if( s.global )
        {
         jQuery.event.trigger("ajaxSend", [xml, s]);
        }            
        
        var uploadCallback = function(isTimeout)
  {  
   // Wait for a response to come back 
   var io = document.getElementById(frameId);
            try 
   {    
    if(io.contentWindow)
    {
      xml.responseText = io.contentWindow.document.body?io.contentWindow.document.body.innerHTML:null;
                  xml.responseXML = io.contentWindow.document.XMLDocument?io.contentWindow.document.XMLDocument:io.contentWindow.document;
      
    }else if(io.contentDocument)
    {
      xml.responseText = io.contentDocument.document.body?io.contentDocument.document.body.innerHTML:null;
                 xml.responseXML = io.contentDocument.document.XMLDocument?io.contentDocument.document.XMLDocument:io.contentDocument.document;
    }      
            }catch(e)
   {
    jQuery.handleError(s, xml, null, e);
   }
            if( xml || isTimeout == "timeout") 
   {    
                requestDone = true;
                var status;
                try {
                    status = isTimeout != "timeout" ? "success" : "error";
                    // Make sure that the request was successful or notmodified
                    if( status != "error" )
     {
                        // process the data (runs the xml through httpData regardless of callback)
                        var data = jQuery.uploadHttpData( xml, s.dataType );                        
                        if( s.success )
                        {
       // ifa local callback was specified, fire it and pass it the data
                         s.success( data, status );
                        };                 
                        if( s.global )
                        {
       // Fire the global callback
                         jQuery.event.trigger( "ajaxSuccess", [xml, s] );
                        };                            
                    } else
                    {
                     jQuery.handleError(s, xml, status);
                    }
                        
                } catch(e) 
    {
                    status = "error";
                    jQuery.handleError(s, xml, status, e);
                };                
                if( s.global )
                {
     // The request was completed
                 jQuery.event.trigger( "ajaxComplete", [xml, s] );
                };
                    

                // Handle the global AJAX counter
                if(s.global && ! --jQuery.active)
                {
                 jQuery.event.trigger("ajaxStop");
                };
                if(s.complete)
                {
                  s.complete(xml, status);
                } ;                 

                jQuery(io).unbind();

                setTimeout(function()
         { try 
          {
           jQuery(io).remove();
           jQuery(form).remove(); 
           
          } catch(e) 
          {
           jQuery.handleError(s, xml, null, e);
          }         

         }, 100);

                xml = null;

            };
        }
        // Timeout checker
        if( s.timeout > 0 ) 
  {
            setTimeout(function(){
                
                if( !requestDone )
                {
     // Check to see ifthe request is still happening
                 uploadCallback( "timeout" );
                }
                
            }, s.timeout);
        }
        try 
  {
   var form = jQuery('#' + formId);
   jQuery(form).attr('action', s.url);
   jQuery(form).attr('method', 'POST');
   jQuery(form).attr('target', frameId);
            if(form.encoding)
   {
                form.encoding = 'multipart/form-data';    
            }
            else
   {    
                form.enctype = 'multipart/form-data';
            }   
            jQuery(form).submit();

        } catch(e) 
  {   
            jQuery.handleError(s, xml, null, e);
        }
        if(window.attachEvent){
            document.getElementById(frameId).attachEvent('onload', uploadCallback);
        }
        else{
            document.getElementById(frameId).addEventListener('load', uploadCallback, false);
        }   
        return {abort: function () {}}; 

    },

    uploadHttpData: function( r, type ) {
        var data = !type;
        data = type == "xml" || data ? r.responseXML : r.responseText;
        // ifthe type is "script", eval it in global context
        if( type == "script" )
        {
         jQuery.globalEval( data );
        }
            
        // Get the JavaScript object, ifJSON is used.
        if( type == "json" )
        {
         eval( "data = " + data );
        }
            
        // evaluate scripts within html
        if( type == "html" )
        {
         jQuery("<div>").html(data).evalScripts();
        }
            
        return data;
    }
});

